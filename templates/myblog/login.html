{% load staticfiles %}
<!DOCTYPE html>
<html lang="en">
<head>
    <link href="{% static 'css/reg_login.css' %}" rel='stylesheet' type='text/css'/>
    <link rel="stylesheet" href="{% static 'css/bootstrap-theme.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/base.css' %}">
    <link rel="stylesheet" href="{% static 'css/detail.css' %}">
    <link rel="stylesheet" href="{% static 'css/index.css' %}">
    <link rel="stylesheet" href="{% static 'css/reg_login.css' %}">
    <script>
        function refresh_check_code(ths) {
            ths.src += '?';
            {#            src后面加问好会自动刷新验证码img的src#}
        }
    </script>
</head>
<body>


<div class="register_con">
    <div class="r_con ">
        <div class="reg_title clearfix">
            <h2>用户登陆</h2>
        </div>
        <div class="reg_form clearfix">
            <form method="post" action="login" role="form">
                {% csrf_token %}
                <ul>
                    <li class="form-group">
                        <label for="name">用户名:</label>
                        {{ form.name }}
                    </li>
                    <li class="form-group">
                        <label for="pwd">密码:</label>
                        {{ form.pwd }}
                    </li>

                    <li class="form-group">
                        <label for="check_code">验证码:</label>
                        <div class="row">
                            <div class="col-xs-4">
                                <input type="text" class="form-control" name="check_code" id="check_code"
                                       placeholder="请输入验证码">
                            </div>
                            <div class="col-xs-offset-2 col-xs-4">
                                <img id="check_code_img" src="create_code_img" onclick="refresh_check_code(this)"
                                     alt="verify_code">
                                {#                    src是url路径，可得到验证码图片，点击时调用refresh_check_code#}
                            </div>
                        </div>
                        <span style="color: red">{{ errors.check_code }}</span>
                    </li>
                    <div class="form-group">
                        <label class="col-sm-3">
                            <input type="radio" name="auto_login">
                            <label>记住密码</label>
                        </label>
                        <div class="col-sm-offset-1 col-sm-3">
                            <a href="#">忘记密码？</a>
                        </div>
                    </div>
                    <li>
                        <button class="btn btn-lg btn-primary btn-block" type="submit">登陆</button>
                    </li>
                </ul>
                <div style="margin-top: 30px">还没有账号？<a href="register" style="color: #428bca">立即注册</a></div>
            </form>
        </div>

    </div>

</div>


</body>
</html>


